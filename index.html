<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SANZ X HG CHEAT V13</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');
    :root{--neon:#00ffff;--accent:#0033ff;--magenta:#ff00ff}
    body{
      margin:0;
      font-family:'Orbitron',sans-serif;
      background:radial-gradient(ellipse at bottom,#020111 0%,#000000 100%);
      color:var(--magenta);
      text-align:center;
      overflow:hidden;
    }
    canvas#stars{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}
    .wrap{padding:36px}
    h1{font-size:32px;color:var(--magenta);text-shadow:0 0 15px var(--magenta),0 0 30px var(--accent);margin:10px 0 22px}
    .circle{width:160px;height:160px;border-radius:50%;margin:18px auto;border:3px solid var(--accent);box-shadow:0 0 30px var(--accent),inset 0 0 40px var(--accent)}
    .controls{margin-top:18px}
    button{background:transparent;color:var(--magenta);border:2px solid var(--accent);border-radius:12px;padding:12px 26px;margin:8px;font-size:16px;cursor:pointer;box-shadow:0 0 15px var(--accent);transition:all .25s; text-transform:uppercase;letter-spacing:1.5px}
    button:hover{background:var(--accent);color:#fff;transform:scale(1.04);box-shadow:0 0 30px var(--magenta),0 0 50px var(--accent)}
    button[disabled]{opacity:.45;cursor:not-allowed;transform:none;box-shadow:none}
    .info{margin-top:16px;color:#9fe; font-size:15px}
    .loading{display:none;margin-top:14px;color:var(--neon)}
    .popup{display:none;position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(6,6,20,0.98);padding:24px;border-radius:14px;border:2px solid var(--accent);box-shadow:0 0 40px var(--accent);z-index:999}
    .popup h2{color:var(--neon);margin:0 0 8px}
    .popup p{color:#fff;font-weight:700;letter-spacing:1px}
    .bottom{margin-top:30px}
    .telegram-box{display:inline-block;padding:14px;border-radius:14px;border:2px solid var(--accent);background:rgba(0,0,40,0.25);box-shadow:0 0 20px var(--accent);margin-top:18px}
    footer{margin-top:36px;color:#666;font-size:13px}
  </style>
</head>
<body>
  <canvas id="stars"></canvas>

  <div class="wrap">
    <div class="circle" aria-hidden="true"></div>
    <h1>SANZ X HG CHEAT<br>V13</h1>

    <div class="controls">
      <button id="generateBtn">- GENERATE GRATIS -</button>
      <button id="youtubeBtn" disabled>KUNJUNGI YOUTUBE</button>
      <button id="tiktokBtn" disabled>KUNJUNGI TIKTOK</button>
      <button id="buatKunciBtn" disabled>BUAT KUNCI</button>
    </div>

    <div class="info" id="infoBox">Tekan "Generate Gratis" untuk memulai.</div>
    <div class="loading" id="loading">âš¡ Sedang membuat kunci...</div>

    <div class="telegram-box bottom">
      <div style="color:var(--neon);font-weight:700;margin-bottom:8px">Gabung Channel Telegram</div>
      <button id="telegramBtn">Gabung Sekarang</button>
    </div>
  </div>

  <div id="popup" class="popup" role="dialog" aria-hidden="true">
    <h2>ðŸŽ‰ KUNCI BERHASIL DIBUAT</h2>
    <p id="keyText">-</p>
    <div style="margin-top:12px">
      <button id="copyBtn">ðŸ“‹ Salin Kunci</button>
      <button id="closeBtn">Tutup</button>
    </div>
  </div>

  <!-- Suara (opsional) -->
  <audio id="clickSound" preload="auto">
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_7b0c2a9c78.mp3" type="audio/mpeg">
  </audio>
  <audio id="loadingSound" preload="auto">
    <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_13eaf9b28c.mp3" type="audio/mpeg">
  </audio>
  <audio id="popupSound" preload="auto">
    <source src="https://cdn.pixabay.com/audio/2022/03/30/audio_54f35a8dfc.mp3" type="audio/mpeg">
  </audio>
  <script>
    // ====== CONFIG (ganti jika perlu) ======
    const safeLink = "https://safefileku.com/download/2OVStrgNOGQ2Egda";
    const youtubeLink = "https://youtube.com/@oksanxit12?si=muzZORS2lkfjbqvD";
    const tiktokLink = "https://tiktok.com/@se_sannz";
    // ========================================

    // Elements
    const generateBtn = document.getElementById('generateBtn');
    const youtubeBtn = document.getElementById('youtubeBtn');
    const tiktokBtn = document.getElementById('tiktokBtn');
    const buatKunciBtn = document.getElementById('buatKunciBtn');
    const infoBox = document.getElementById('infoBox');
    const loadingEl = document.getElementById('loading');
    const popup = document.getElementById('popup');
    const keyText = document.getElementById('keyText');
    const copyBtn = document.getElementById('copyBtn');
    const closeBtn = document.getElementById('closeBtn');
    const telegramBtn = document.getElementById('telegramBtn');

    // audio
    const clickSound = document.getElementById('clickSound');
    const loadingSound = document.getElementById('loadingSound');
    const popupSound = document.getElementById('popupSound');

    // flags in localStorage:
    // safestep = 'started' after generate pressed
    // yt_visited = '1' when youtubeBtn clicked
    // tt_visited = '1' when tiktokBtn clicked

    function play(el){ if(!el) return; el.currentTime=0; el.play().catch(()=>{}); }

    // Initial state check on load: if user already started, enable youtube/tiktok buttons
    window.addEventListener('load', () => {
      const started = localStorage.getItem('safestep') === 'started';
      if(started){
        infoBox.innerHTML = 'âœ… Kamu memulai proses. Silakan kunjungi YouTube & TikTok, lalu tekan BUAT KUNCI.';
        youtubeBtn.disabled = false;
        tiktokBtn.disabled = false;
      }
      // if already clicked YT/TT previously in this session, reflect UI
      if(localStorage.getItem('yt_visited')==='1') youtubeBtn.disabled = true;
      if(localStorage.getItem('tt_visited')==='1') tiktokBtn.disabled = true;
      checkEnableBuatKunci();
    });

    // Generate button: open safelink in new tab and set started flag
    generateBtn.addEventListener('click', () => {
      play(clickSound);
      try { localStorage.setItem('safestep','started'); } catch(e){}
      // enable YT/TT buttons so user can continue flow after returning
      youtubeBtn.disabled = false;
      tiktokBtn.disabled = false;
      infoBox.innerHTML = 'Silakan lewati safelink terlebih dahulu. Setelah kembali, kunjungi YouTube & TikTok.';
      // open safelink in new tab
      window.open(safeLink, '_blank');
    });

    // YouTube button: open and mark visited
    youtubeBtn.addEventListener('click', () => {
      play(clickSound);
      window.open(youtubeLink, '_blank');
      try { localStorage.setItem('yt_visited','1'); } catch(e){}
      youtubeBtn.disabled = true;
      infoBox.innerHTML = 'YouTube dikunjungi. Sekarang kunjungi TikTok.';
      checkEnableBuatKunci();
    });

    // TikTok button: open and mark visited
    tiktokBtn.addEventListener('click', () => {
      play(clickSound);
      window.open(tiktokLink, '_blank');
      try { localStorage.setItem('tt_visited','1'); } catch(e){}
      tiktokBtn.disabled = true;
      infoBox.innerHTML = 'TikTok dikunjungi. Jika sudah mengunjungi keduanya, tekan BUAT KUNCI.';
      checkEnableBuatKunci();
    });

    // Telegram quick join
    telegramBtn.addEventListener('click', () => {
      play(clickSound);
      window.open('https://t.me/+az9_OsTpQ-AyNDhl', '_blank');
    });

    // Check if both visited and started -> enable buatKunci
    function checkEnableBuatKunci(){
      const started = localStorage.getItem('safestep') === 'started';
      const yt = localStorage.getItem('yt_visited') === '1';
      const tt = localStorage.getItem('tt_visited') === '1';
      if(started && yt && tt){
        buatKunciBtn.disabled = false;
        infoBox.innerHTML = 'âœ… Semua langkah selesai. Tekan BUAT KUNCI untuk membuat kunci.';
      }
    }

    // buat kunci action (only when enabled)
    buatKunciBtn.addEventListener('click', () => {
      play(clickSound);
      // double-check flags
      const started = localStorage.getItem('safestep') === 'started';
      const yt = localStorage.getItem('yt_visited') === '1';
      const tt = localStorage.getItem('tt_visited') === '1';
      if(!(started && yt && tt)){
        alert('Kamu harus menyelesaikan semua langkah: Generate -> YouTube -> TikTok.');
        return;
      }

      // proceed: create key
      loadingEl.style.display = 'block';
      play(loadingSound);
      // disable UI while generating
      document.querySelectorAll('button').forEach(b=> b.disabled = true);

      setTimeout(()=>{
        const key = generateKey();
        keyText.textContent = key;
        loadingEl.style.display = 'none';
        popup.style.display = 'block';
        popup.setAttribute('aria-hidden','false');
        play(popupSound);
        // cleanup flags so user must repeat flow to get new key
        localStorage.removeItem('safestep');
        localStorage.removeItem('yt_visited');
        localStorage.removeItem('tt_visited');
        // reset buttons after short delay
        setTimeout(()=> {
          document.querySelectorAll('button').forEach(b=> b.disabled = false);
          youtubeBtn.disabled = true;
          tiktokBtn.disabled = true;
          buatKunciBtn.disabled = true;
          infoBox.innerHTML = 'Tekan GENERATE GRATIS untuk mendapatkan kunci baru.';
        }, 600);
      }, 1800);
    });

    copyBtn.addEventListener('click', ()=> {
      const k = keyText.textContent;
      if(!k) return alert('Belum ada kunci.');
      navigator.clipboard.writeText(k).then(()=> alert('Kunci disalin ke clipboard!')).catch(()=> alert('Gagal menyalin otomatis. Salin manual: ' + k));
    });

    closeBtn.addEventListener('click', ()=> {
      popup.style.display = 'none';
      popup.setAttribute('aria-hidden','true');
    });

    function generateKey(){
      const letters = Array.from({length:4}, ()=> String.fromCharCode(65 + Math.floor(Math.random()*26))).join('');
      const numbers = Math.floor(Math.random()*10000).toString().padStart(4,'0');
      return `SANZ-${letters}${numbers}`;
    }

    // Starfield animation (kept lightweight)
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    window.addEventListener('resize', resize);
    resize();
    for(let i=0;i<140;i++) stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,z:Math.random()*canvas.width});
    function anim(){
      ctx.fillStyle = 'rgba(0,0,18,0.6)';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      for(let s of stars){
        s.z -= 1.8;
        if(s.z<=0){ s.x=Math.random()*canvas.width; s.y=Math.random()*canvas.height; s.z=canvas.width; }
        const k = 128.0/s.z;
        const px = s.x*k + canvas.width/2;
        const py = s.y*k + canvas.height/2;
        if(px>=0 && px<=canvas.width && py>=0 && py<=canvas.height){
          const size = Math.max(0.3,(1 - s.z/canvas.width)*2);
          ctx.fillStyle = 'white';
          ctx.beginPath();
          ctx.arc(px,py,size,0,Math.PI*2);
          ctx.fill();
        }
      }
      requestAnimationFrame(anim);
    }
    anim();
  </script>
</body>
  </html>
